package yinzhi.micro_client.activity;

import java.util.ArrayList;
import java.util.List;

import com.lidroid.xutils.ViewUtils;
import com.lidroid.xutils.view.annotation.ViewInject;

import android.os.Bundle;
import android.widget.ImageButton;
import android.widget.ListView;
import android.widget.TextView;
import yinzhi.micro_client.R;
import yinzhi.micro_client.adapter.LxyCommonAdapter;
import yinzhi.micro_client.adapter.LxyViewHolder;
import yinzhi.micro_client.network.constants.INetworkConstants;
import yinzhi.micro_client.network.vo.YZCourseVO;

public class CourseListActivity extends BaseActivity {
	@ViewInject(R.id.course_list_close)
	private ImageButton close;

	@ViewInject(R.id.course_list_title)
	private TextView title;

	@ViewInject(R.id.course_list_result)
	private ListView listView;

	// 存储搜索结果
	private List<YZCourseVO> datas = new ArrayList<YZCourseVO>();

	private LxyCommonAdapter<YZCourseVO> adapter;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_course_list);

		ViewUtils.inject(this);
		
		initData();

	}

	public void initView() {
		adapter = new LxyCommonAdapter<YZCourseVO>(this, datas, R.layout.item_course_list) {
			@Override
			public void convert(LxyViewHolder holder, YZCourseVO course) {

				holder.setImageViewUrl(R.id.course_icon, INetworkConstants.YZMC_SERVER + course.getCoursePicPath());
				holder.setText(R.id.course_name, course.getTitle());
				holder.setText(R.id.course_click_count, course.getClickCount().toString());
				holder.setText(R.id.course_teacher_name, course.getTeacherName());

			}
		};
		listView.setAdapter(adapter);

	}

}
